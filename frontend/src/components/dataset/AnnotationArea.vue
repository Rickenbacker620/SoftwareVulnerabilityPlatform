<template lang="pug">
div.relative.flex.flex-col.leading-loose.whitespace-pre-wrap(@mouseenter="showCloseButton = true" @mouseleave="showCloseButton = false")
    button.absolute.w-5.h-5.-top-2.-left-2.z-30.bg-gray-400.rounded-full(v-if="showCloseButton && isCategory")
    div.text-4xl.rounded-t.rounded-br.tracking-wider(:class="annotation?.category") {{ annotation?.text }}
    div.text-sm.w-min.px-2.border-b-2(:class="annotation?.category" v-if="isCategory" @mouseenter="") test
</template>

<script setup lang="ts">
import { PropType } from "@vue/runtime-core";
import { ref } from "vue";
import { AnnotationSpan } from "./annotation";

const props = defineProps({
    annotation: Object as PropType<AnnotationSpan>
})

let showCloseButton = ref(false)

let isCategory = props.annotation?.category?.includes('cat')
</script>

<style scoped>
.cat1 {
    @apply bg-red-600;
}

.cat2 {
    @apply bg-green-600;
}

.cat3 {
    @apply bg-blue-600;
}
.cat4 {
    @apply bg-yellow-600;
}
.cat5 {
    @apply bg-purple-600;
}
.cat6 {
    @apply bg-indigo-600;
}

.plain {
}

.pending {
    @apply border-2;
    @apply border-yellow-200;
    @apply border-dashed;
    @apply rounded;
}
.select {
    @apply border-2;
    @apply border-yellow-200;
    @apply rounded;
}
</style>
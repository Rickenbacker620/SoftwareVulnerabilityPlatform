<template lang="pug">
table
    thead(align="middle")
        tr.bg-blue-200
            th.py-1 漏洞编号
            th 漏洞类别
            th CVSS3
            th CVSS2
            th 更新日期
    tbody.bg-blue-50(align="middle")
        tr(v-for="row in data")
            td.px-3.py-2(v-for="rowd in row") {{rowd}}
</template>

<script setup>
import { statService } from "@/utils/services"

const { data: rawData } = await statService.updateTop5()

const data = rawData.map((e) => {
    return {
        cve_id: e.cve_id,
        cwe_id: e.cwe_id ?? "N/A",
        cvss3_type: e.cvss3_type ?? "N/A",
        cvss2_type: e.cvss2_type ?? "N/A",
        date: new Date(e.date).toLocaleDateString("zh-CN")
    }
})
</script>
<template lang="pug">
VChart.chart(:option="option" :autoresize="true")
</template>

<script setup>
import { use } from "echarts/core"
import { CanvasRenderer } from "echarts/renderers"
import { LineChart } from "echarts/charts"
import {
    GridComponent,
    TooltipComponent,
    LegendComponent,
    DataZoomComponent,
} from "echarts/components"
import VChart from "vue-echarts"
import { ref } from "vue"
use([
    CanvasRenderer,
    LineChart,
    GridComponent,
    TooltipComponent,
    LegendComponent,
    DataZoomComponent,
])

const option = {
    tooltip: {
        trigger: "axis",
    },
    legend: {
        data: ["CVSS2", "CVSS3"],
    },
    grid: {
        left: "10",
        top: "30",
        right: "10",
        containLabel: true,
    },
    xAxis: [
        {
            type: "category",
            boundaryGap: false,
            axisLabel: {
                formatter: "{value}年",
            },
            data: [
                1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997,
                1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007,
                2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017,
                2018, 2019, 2020, 2021,2022
            ],
        },
    ],
    yAxis: [
        {
            type: "value",
            axisLabel: {
                formatter: "{value}个",
                textStyle: {
                    color: "rgb(6,0,0)",
                },
            },
        },
    ],
    series: [
        {
            name: "CVSS2",
            type: "line",
            showSymbol: false,
            data: [
                2, 2, 8, 11, 12, 8, 14, 18, 45, 145, 135, 423, 452, 772, 1004,
                678, 969, 2039, 2761, 3163, 2841, 2718, 2076, 1778, 1719, 1732,
                1929, 2349, 2452, 4294, 4277, 4311, 4342, 4056, 1389
            ],
        },
        {
            name: "CVSS3",
            type: "line",
            showSymbol: false,
            data: [
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                1,
                "",
                "",
                "",
                1,
                "",
                1,
                "",
                3,
                4,
                28,
                15,
                20,
                15,
                37,
                95,
                3758,
                8692,
                10003,
                9642,
                9828,
                10934,
                3024
            ],
        },
    ],
}
</script>

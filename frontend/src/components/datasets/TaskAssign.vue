<template lang="pug">
div.w-32
    NSpace(vertical)
        NInput(v-model:value="task.name", type="text")
        NInputNumber( v-model:value="task.size" clearable)
        NButton(@click="handleClick") 提交
</template>

<script setup lang="ts">
import { datasetService } from "@/utils/services";
import { NInputNumber, useMessage } from "naive-ui"
import { reactive } from "vue"

const message = useMessage()

const task = reactive({
    name: "",
    size: 0
})

const handleClick = async () => {
    if (task.name === "" || task.size === 0) {
        message.error("格式错误")
        return
    }
    const {data} = await datasetService.makeTask(task)
    message.success(data.message)
}

</script>
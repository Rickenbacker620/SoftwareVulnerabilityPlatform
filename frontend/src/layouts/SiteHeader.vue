<template lang="pug">
NLayoutHeader.h-16.flex.gap-4(bordered)
    div.flex.flex-1.gap-4.m-6(v-if="route.name === 'DatasetDetail'")
        NButton(text @click="gotoList")
            div
                NIcon
                    List
                span.text-xs 返回列表
        NButton(text @click="prevDataset")
            div
                NIcon
                    ArrowLeft
                span.text-xs 上一个
        NButton(text @click="nextDataset")
            div
                NIcon
                    ArrowRight
                span.text-xs 下一个
    div.flex.justify-center.items-center.m-6
        NText.text-lg {{ store.username }}
</template>


<script setup lang="ts">
// import { userService } from "@/utils/service";
// import { useStore } from "vuex";
import { ArrowLeft, ArrowRight, List } from "@vicons/carbon"
import { RouterLink, useRoute, useRouter } from "vue-router";
import { computed } from "vue";
import { useUserStore } from "@/stores/user";
import { userService } from "@/utils/services";

const store = useUserStore()

const route = useRoute()
const router = useRouter()

try {
    const { data: user } = await userService.me()
    store.username = user.username
    store.isLogin = true
} catch (error) {
}

const user = useUserStore()

const prevDataset = () => router.push('/dataset/' + (parseInt(route.params['id'] as string) - 1))
const nextDataset = () => router.push('/dataset/' + (parseInt(route.params['id'] as string) + 1))
const gotoList = () => router.push(`/projects/${user.project}`)

const menuOptions = [

]

</script>

<style scoped>
button.n-button > span > div {
    @apply flex;
    @apply flex-col;
    @apply items-center;
}

.n-icon {
    @apply text-4xl;
}
</style>
from fastapi import Depends
from pydantic import BaseModel


class TokenPayload(BaseModel):
    sub: str
    exp: str


class Token(BaseModel):
    access_token: str
    token_type: str


class Status(BaseModel):
    message: str


class PaginationParams(BaseModel):
    offset: int = 0
    limit: int = 20


class DatasetFilterParam(BaseModel):
    page: PaginationParams = Depends()
    annotated: bool | None
    ambiguous: bool | None
    approved: bool | None
    invalid: bool | None
    example: bool | None
    classified: bool | None
    order: int | None
    q: str | None

    appear: str | None
    freq: int | None

    @property
    def status_dict(self) -> dict:
        status_dict = self.__dict__.copy()
        status_dict.pop("order")
        status_dict.pop("q")
        status_dict.pop("page")
        status_dict.pop("appear")
        status_dict.pop("freq")
        return status_dict
